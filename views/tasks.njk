{% extends layout %}
{% block  content %}
<main class="container">

  {% include 'components/taskform.njk'%}

      <ul class="list-group" >
      {% for task in tasks %}
        <li class="list-group-item d-flex justify-content-between" >
          {{ task.task }}
          <div class="d-flex">
            <div class="form-check me-3">
              <input class="form-check-input" type="checkbox" value="{{task.completed}}" name="task-{{task.id}}" id="task-{{task.id}}" {% if task.completed%}checked{% endif %}>
            <label class="from-check-label" for="task-{{task.id}}">Completed</label>
            </div>
        <a href="/tasks/{{task.id}}/delete"
        class="btn btn-danger btn-sm">Delete Task</a>
          </div>
        </li>
      {% endfor %}
      </ul>
    <div id="liveAlertPlaceholder"></div>

    <script>
      var alertPlaceholder = document.getElementById('liveAlertPlaceholder')
var alertTrigger = document.getElementById('liveAlertBtn')

function alert(message, type) {
  var wrapper = document.createElement('div')
  wrapper.innerHTML = '<div class="alert alert-' + type + ' alert-dismissible" role="alert">' + message + '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>'

  alertPlaceholder.append(wrapper)
}

if (alertTrigger) {
  alertTrigger.addEventListener('click', function () {
    alert('Du suger emil!', 'success')
  })
}
    </script>

</main>
  {% endblock %}